{"version":3,"sources":["webpack:///webpack/bootstrap 95a25cc32faabeebf167","webpack:///./src/index.js","webpack:///./src/instance/baseView.js","webpack:///external \"window.Backbone\"","webpack:///external \"window.artTemplate\"","webpack:///./src/util/warn.js","webpack:///./config.js","webpack:///./src/util/debug.js","webpack:///./src/util/tools.js","webpack:///./src/instance/baseRouter.js","webpack:///./src/entity/ManagedObject.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,IAAI;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACtKA,kC;;;;;;ACAA,qC;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;;;;;ACfA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1BA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,EAAE;AAClB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,IAAI;AACpB,iBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACnHD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,oCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA,0BAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,IAAI;AACb,qBAAoB,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"base-extend-backbone.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 95a25cc32faabeebf167\n **/","var BaseView = require('./instance/baseView');\nvar BaseModel = require('./instance/baseRouter');\nvar BaseRouter = require('./instance/baseRouter');\nvar ManagedObject = require('./entity/ManagedObject');\nmodule.exports = {\n    'View':BaseView,\n    'Model':BaseModel,\n    'Router':BaseRouter,\n    'ManagedObject':ManagedObject\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n * @time 2012年10月19日\n * @author icepy\n * @info 完成基础的View类\n *\n * @time 2016年2月27日\n * @author icepy\n * @info 改造兼容webpack打包\n */\n\n'use strict';\n\nvar Backbone = require('backbone');\nvar tplEng = require('tplEng');\nvar warn = require('../util/warn');\nvar tools = require('../util/tools');\nvar error = require('../util/debug').error;\nvar BaseView = Backbone.View.extend({\n\tinitialize:function(options){\n\t\t//初始化参数\n\t\tthis._ICEOptions = options || {};\n\n\t\tif (_.isFunction(this.beforeMount)){\n\t\t\tthis.beforeMount();\n\t\t}else{\n\t\t\twarn('推荐使用beforeMount钩子方法，用来初始化自定义属性');\n\t\t};\n\t\tif (this._ICEOptions.id) {\n\t\t\tthis.$el = $(this._ICEOptions.id);\n\t\t};\n\t\tthis._ICEinit();\n\t\treturn this;\n\t},\n\t_ICEinit:function(){\n\t\tif (_.isFunction(this.rawLoader)) {\n\t\t\tthis._template = this.rawLoader();\n\t\t\tif (this._template) {\n\t\t\t\tthis.$el.append(this._template);\n\t\t\t};\n\t\t}else{\n\t\t\twarn('推荐使用rawLoader钩子方法用来加载需要动态获取的模板');\n\t\t};\n\t\tif (typeof this.afterMount === 'function') {\n\t\t\tthis.afterMount();\n\t\t}else{\n\t\t\twarn('推荐使用afterMount钩子方法，用来获取DOM对象');\n\t\t};\n\t\tthis._ICEObject();\n\t},\n\t_ICEObject:function(){\n\t\tthis._ICEinitNode();\n\t\tthis.__YYTPC__ = true;\n\t\tif (_.isFunction(this.ready)) {\n\t\t\tthis.ready(this._ICEOptions);\n\t\t}else{\n\t\t\terror('一个View对象周期内必须实现ready钩子方法');\n\t\t};\n\t},\n\t_ICEinitEvent:function(){\n\t\tthis.delegateEvents(this.events);\n\t},\n\t_ICEinitNode:function(){\n\t\tvar self = this;\n\t\tthis.$parent = this._ICEOptions.parent;\n\t\tthis.$children  = [];\n\t\tthis.$root = this.$parent ? this.$parent.$root : this;\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\n\t\t\tthis.$parent.$children.push(this);\n\t\t};\n\t\tthis.on('hook:context',function(){\n\t\t\tvar args = tools.toArray(arguments);\n\t\t\tif (self && self.__YYTPC__) {\n\t\t\t\tif (_.isFunction(self.context)) {\n\t\t\t\t\tself.context.apply(self,args);\n\t\t\t\t}else{\n\t\t\t\t\twarn('未定义context上下文钩子方法');\n\t\t\t\t};\n\t\t\t};\n\t\t});\n\t},\n\t_ICEDestroy:function(){\n\t\t//实例销毁之前\n\t\tif (_.isFunction(this.beforeDestroy)) {\n\t\t\tthis.beforeDestroy();\n\t\t};\n\t\tthis.remove();\n\t\tthis.undelegate();\n\t\t//实例销毁之后\n\t\tif (_.isFunction(this.destroyed)) {\n\t\t\tthis.destroyed();\n\t\t};\n\t},\n\ttriggerParentHook:function(){\n\t\tif (this.$parent && this.$parent.__YYTPC__) {\n\t\t\tvar args = tools.toArray(arguments);\n\t\t\tvar event = args[0];\n\t\t\tif (_.isString(event)) {\n\t\t\t\tevent = 'hook:'+ event;\n\t\t\t\targs[0] = event;\n\t\t\t}else{\n\t\t\t\targs.splice(0,0,'hook:context');\n\t\t\t};\n\t\t\tthis.$parent.trigger.apply(this.$parent,args);\n\t\t}else{\n\t\t\twarn('在View实例对象初始化时未指明对象的结构关系');\n\t\t}\n\t},\n\t/**\n\t * [compileHTML 编译模板]\n\t * @param  {[type]} tplStr [description]\n\t * @param  {[type]} data   [description]\n\t * @return {[type]}        [description]\n\t */\n\tcompileHTML:function(tplStr,data){\n\t\treturn tplEng.compile(tplStr)(data);\n\t},\n\t/**\n\t * [broadcast 触发所有子组件相应的事件]\n\t * @param  {[type]} event [description]\n\t * @return {[type]}       [description]\n\t */\n\tbroadcast:function(event){\n\t\tvar args = tools.toArray(arguments);\n\t\tvar children = this.$children;\n\t\tvar i = 0;\n\t\tvar j = children.length;\n\t\tfor(;i<j;i++){\n\t\t\tvar child = children[i];\n\t\t\tvar propagate = child.trigger.apply(child,args);\n\t\t\tif(propagate){\n\t\t\t\tchild.broadcast.apply(child,args);\n\t\t\t};\n\t\t}\n\t\treturn this;\n\t},\n\t/**\n\t * [dispatch 触发所有父组件相应的事件]\n\t * @param  {[type]} event [description]\n\t * @return {[type]}       [description]\n\t */\n\tdispatch:function(event){\n\t\tvar args = tools.toArray(arguments);\n\t\tvar parent = this.$parent;\n\t\twhile(parent){\n\t\t\tparent.trigger.apply(parent,args);\n\t\t\tparent = parent.$parent;\n\t\t}\n\t\treturn this;\n\t},\n\t/**\n\t * [destroy 销毁实例]\n\t * @return {[type]} [description]\n\t */\n\tdestroy:function(){\n\t\tthis._ICEOptions = null;\n\t\tthis.methods = null;\n\t\tthis.props = null;\n\t\tthis.state = null;\n\t\tthis._store = null;\n\t\tthis.$children.length = 0;\n\t\tthis.$parent = null;\n\t\tthis.$root = null;\n\t\tthis._ICEDestroy();\n\t}\n});\n\nmodule.exports = BaseView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/instance/baseView.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = window.Backbone;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"window.Backbone\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = window.artTemplate;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"window.artTemplate\"\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * @time 2012年10月26日\n * @author icepy\n * @info 完成warn包装\n */\n\n'use strict';\n\nvar Config = require('config');\nvar Debug = require('./debug');\n\nvar warn = function(msg,e){\n\tif (Config.debug) {\n\t\tDebug.warn(msg,e)\n\t}\n}\nmodule.exports = warn;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/warn.js\n ** module id = 4\n ** module chunks = 0\n **/","var config = {\n    scheme: 'alpha',\n    env:{\n        alpha:{\n            'url_prefix':'http://127.0.0.1:8081'\n        },\n        beta:{\n            'url_prefix':'http://beta.com:8081'\n        },\n        release:{\n            'url_prefix':'http://aip.com'\n        }\n    },\n    debug:true\n};\nmodule.exports = config;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./config.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\n * @time 2012年10月26日\n * @author icepy\n * @info debug信息打印\n */\n\n'use strict';\n\nvar debug = {}\ndebug.warn = function(msg,e){\n\tvar hasConsole = typeof console !== undefined;\n\tif (hasConsole) {\n\t\tconsole.warn('[YYT PC Warning]:'+ msg);\n\t\tif (e) {\n\t\t\tthrow e;\n\t\t}else{\n\t\t\tvar warning = new Error('Warning Stack Trace');\n\t\t\tconsole.warn(warning.stack);\n\t\t}\n\t};\n\treturn hasConsole;\n};\ndebug.error = function(msg){\n\tvar error = new Error(msg);\n\tthrow error.stack;\n};\nmodule.exports = debug;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/debug.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n * @time 2012年10月26日\n * @author icepy\n * @info 完成处理tools对象\n */\n\n'use strict';\n\n(function (factory) {\n    var root = (typeof self == 'object' && self.self == self && self) ||\n        (typeof global == 'object' && global.global == global && global);\n    if (typeof exports === 'object' && typeof module === 'object') {\n        module.exports = factory();\n    } else if (typeof exports === 'object') {\n        exports['tools'] = factory()\n    } else {\n        if (!root.ICEPlugs) {\n            root.ICEPlugs = {};\n        }\n        root.ICEPlugs.tools = factory();\n    }\n})(function () {\n    var tools = {};\n    var toString = Object.prototype.toString;\n    var OBJECT_TYPE = '[object Object]';\n    /**\n     * [isPlainObject 判断是否为普通对象]\n     * @param  {[Object]}  obj [对象]\n     * @return {Boolean}\n     */\n    tools.isPlainObject = function (obj) {\n        return toString.call(obj) === OBJECT_TYPE;\n    };\n    /**\n     * [isObject 判断是否为对象]\n     * @param  {[*]}  obj [任意一个元素]\n     * @return {Boolean}\n     */\n    tools.isObject = function (obj) {\n        return obj !== null && typeof obj === 'object';\n    };\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    /**\n     * [hasOwn 检查对象是否为自身的属性]\n     * @param  {[Object]}  obj [description]\n     * @param  {[String]}  key [description]\n     * @return {Boolean}     [description]\n     */\n    tools.hasOwn = function (obj, key) {\n        return hasOwnProperty.call(obj, key);\n    };\n    /**\n     * [toArray 类数组对象转数组]\n     * @param  {[Array-like]} list  [类数组]\n     * @param  {[Number]} index [起始索引]\n     * @return {[Array]}       [返回一个新的真实数组]\n     */\n    tools.toArray = function (list, index) {\n        index = index || 0;\n        var i = list.length - index;\n        var _array = new Array(i);\n        while (i--) {\n            _array[i] = list[i + index];\n        }\n        return _array;\n    };\n    /**\n     * [toType 导出类型字符串]\n     * @param  {[type]} value [description]\n     * @return {[type]}       [description]\n     */\n    tools.toType = function (value) {\n        return toString.call(value);\n    };\n    /**\n     * [exportToNumber 导出数字]\n     * @param  {[*]} value [description]\n     * @return {[*|Number]}       [description]\n     */\n    tools.exportToNumber = function (value) {\n        if (typeof value !== 'string') {\n            return value;\n        } else {\n            var number = Number(value);\n            return isNaN(number) ? value : number;\n        }\n    };\n\n    /**\n     * [isArray 判断是否为数组]\n     * @param  {*} value [description]\n     * @return {Boolean}       [description]\n     */\n    tools.isArray = function(obj){\n        return tools.toType(obj) === '[object Array]';\n    };\n\n    /**\n     * [mergeData 合并数据]\n     * @param  {obj} value [description]\n     * @param  {obj} value [description]\n     * @return {obj}       [description]\n     */\n    tools.mergeData = function(to,from){\n        var key,toVal,fromVal;\n        for(key in from){\n            toVal = to[key];\n            fromVal = from[key];\n            if (tools.isPlainObject(toVal) && tools.isPlainObject(fromVal)) {\n                tools.mergeData(toVal,fromVal);\n            }\n        }\n        return to;\n    };\n    return tools;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/tools.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * @time 2016年3月21日\n * @author icepy\n * @info 基于路由的生命周期\n */\n\n'use strict'\n\nvar Backbone = require('backbone');\nvar warn = require('../util/warn');\nvar stack = [];\nvar routerHash = {};\nvar curr = null;\nvar router = null;\nvar routerHashTop = function(key) {\n    return routerHash[key];\n};\nvar routerHashRmove = function(key) {\n    delete routerHash[key];\n};\nvar BaseRouter = Backbone.Router.extend({\n    addLifeCycleHelper: function(name, view, parameter) {\n        var top = routerHashTop(name);\n        var stackCheckHandler = function() {\n            if (curr) {\n                //视图隐藏或者销毁之前\n                if (_.isFunction(router.viewWillDisappear)) {\n                    router.viewWillDisappear.call(curr);\n                }else{\n                    if (router.dealloc) {\n                        warn('销毁实例{dealloc = true}之前必须存在viewWillDisappear，在此进行解除其他对象的引用或者调用（每个）destroy方法');\n                    };\n                };\n                if (router.dealloc) {\n                    //进入实例销毁流程\n                    curr.destroy();\n                    var obj = routerHashTop(curr._router);\n                    if (obj) {\n                        routerHashRmove(curr.router);\n                        stack.splice(stack.indexOf(curr.cid), 1);\n                        obj = null;\n                    };\n                };\n                //视图隐藏或者销毁之后\n                if (_.isFunction(router.viewDidDisappear)) {\n                    router.viewDidDisappear.call(curr);\n                };\n            }\n        }\n        if (top) {\n            stackCheckHandler();\n            curr = null;\n            curr = top;\n            curr.trigger('viewWillAppear');\n        } else {\n            stackCheckHandler();\n            curr = parameter ? new view({\n                '$parameter': parameter\n            }) : new view();\n            stack.push(curr.cid);\n            curr._router = name;\n            curr._didLoad = false; //记录viewDidLoad跟随路由呈现的生命周期状态\n            router = curr.router;\n            routerHash[name] = curr;\n            //视图呈现的生命周期只会触发一次\n            curr.once('viewDidLoad', function() {\n                if (_.isFunction(router.viewDidLoad)) {\n                    router.viewDidLoad.call(curr);\n                }else{\n                    warn('基于路由的Root Component，必须存在viewDidLoad钩子');\n                };\n                if (!curr._didLoad) {\n                    curr._didLoad = true;\n                    curr.trigger('viewDidAppear');\n                };\n            });\n            //视图将要呈现之前\n            curr.on('viewWillAppear', function() {\n                if (_.isFunction(router.viewWillAppear)) {\n                    router.viewWillAppear.call(curr);\n                }else{\n                    warn('基于路由的Root Component，必须存在viewWillAppear');\n                };\n                if (!curr._didLoad) {\n                    //viewDidLoad事件还未触发\n                    curr.trigger('viewDidLoad');\n                }else{\n                    curr.trigger('viewDidAppear');\n                };\n            });\n            //视图已经呈现之后\n            curr.on('viewDidAppear', function() {\n                if (_.isFunction(router.viewDidAppear)) {\n                    router.viewDidAppear.call(curr);\n                }else{\n                    warn('基于路由的Root Component，必须存在viewDidAppear');\n                };\n            });\n            curr.trigger('viewWillAppear');\n        }\n        return curr;\n    }\n});\nmodule.exports = BaseRouter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/instance/baseRouter.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * @time 2016年3月29日\n * @author icepy\n * @info 实体管理类\n */\nvar Tools = require('../util/tools');\nvar baseModelSort = [];\n\nvar ManagedObject = function(options){\n    options = options || {};\n    this.entity = options.entity || {};\n};\n\nManagedObject.prototype.$update = function(obj){\n    var entity = _.extend(this.entity,obj);\n    this.entity = null;\n    this.entity = entity;\n};\n/**\n * [$get 从实体中获取数据，无参将返回所有数据，参数使用.结构化表达式（this.$get('items.0.id')）]\n * @param  {[type]} expression [description]\n * @return {[type]}            [description]\n */\nManagedObject.prototype.$get = function(expression){\n    if (!expression) {\n        return this.entity;\n    }\n    var attrNodes = expression.split('.');\n    var lh = attrNodes.length;\n    if (lh > 0) {\n        var node = attrNodes[0];\n        var i = 0;\n        var entity = this.entity;\n        while(node){\n            i++\n            entity = entity[node];\n            node = attrNodes[i];\n        }\n        return entity;\n    }\n};\n/**\n * [$set 向实体内部更新数据，以key/value的方式，第一个参数使用结构化表达式，第二个参数可以是任意类型的数据]\n * @param {[type]} expression [description]\n * @param {[type]} value      [description]\n */\nManagedObject.prototype.$set = function(expression,value,options){\n    if (expression === null || expression === undefined) {\n        return this;\n    };\n    if (Tools.isPlainObject(expression)) {\n        this.entity = null;\n        this.entity = expression;\n        return this.entity;\n    };\n    var attrNodes = expression.split('.');\n    var lh = attrNodes.length;\n    if (lh > 0) {\n        var i = 0;\n        var node = attrNodes[i];\n        var entity = this.entity;\n        if (lh !== 1) {\n            while(node){\n                i++\n                entity = entity[node];\n                node = attrNodes[i];\n                if (i > (lh - 2)) {\n                    break;\n                }\n            }\n        }\n        switch(Tools.toType(entity)){\n            case '[object Object]':\n                entity[node] = value;\n                break;\n            case '[object Array]':\n                entity[Tools.exportToNumber(node)] = value;\n                break;\n            default:\n                entity = value;\n                break;\n        };\n    }\n};\n/**\n * [$filter 向实体内部的某项数据进行筛选，第一个参数是要筛选数据的.结构化表达式，第二个参数是筛选根据]\n * @param  {[type]} expression [description]\n * @param  {[type]} value      [description]\n * @return {[type]}            [description]\n */\nManagedObject.prototype.$filter = function(expression,value){\n    var data = this.$get(expression);\n    var result = [];\n    if (Tools.isArray(data)) {\n        var i = data.length;\n        var n;\n        while(i--){\n            var val = data[i];\n            switch(Tools.toType(value)){\n                case '[object Object]':\n                    n = true;\n                    for(var k in value){\n                        if (!(val[k] === value[k])) {\n                            n = null;\n                            break;\n                        }\n                    }\n                    break\n                case '[object Function]':\n                    n = value(val,i);\n                    break\n                default:\n                    n = (val === value);\n                    break\n            };\n            if (n) {\n                result.push(val)\n            };\n        };\n    };\n    return result;\n};\n/**\n * [$sort 对实体内部的某项数据进行排序，第二个参数是要排序数据的.结构化表达式，第二个参数是排序的根据]\n * @param  {[type]} expression [description]\n * @param  {[type]} value      [description]\n * @return {[type]}            [description]\n */\nManagedObject.prototype.$sort = function(expression,value){\n    // > 大于 true\n    // < 小于 false\n    var data = this.$get(expression);\n    baseModelSort.length = 0;\n    if (Tools.isArray(data)) {\n        switch(Tools.toType(value)){\n            case '[object Function]':\n                baseModelSort = this._sort(data,value)\n                break\n            default:\n                if (typeof value === 'string') {\n                    var attrNodes = value.split('.');\n                    var logic = null;\n                    var lh = attrNodes.length - 1;\n                    switch(attrNodes[lh]){\n                        case '>':\n                            logic = true;\n                            break\n                        case '<':\n                            logic = false;\n                            break\n                        default:\n                            return baseModelSort;\n                            break\n                    };\n                    if (logic !== null) {\n                        return this._sort(data,function(val1,val2){\n                            var node = attrNodes[0];\n                            var i = 0;\n                            while(node){\n                                val1 = val1[node];\n                                val2 = val2[node];\n                                i++\n                                if (i === lh) {\n                                    break;\n                                };\n                                node = attrNodes[i];\n                            }\n                            if (logic) {\n                                return val1 > val2;\n                            }else{\n                                return val1 < val2;\n                            };\n                        });\n                    }\n\n                };\n                break\n        }\n    };\n    return baseModelSort;\n};\n\nManagedObject.prototype._sort = function(data,fun){\n    var n = data.length;\n    if (n < 2) {\n        return data;\n    };\n    var i = 0;\n    var j = i+1;\n    var logic,temp,key;\n    for(;i<j;i++){\n        for(j = i+1;j<n;j++){\n            logic = fun.call(this,data[i],data[j]);\n            key = (typeof logic === 'number' ? logic : !!logic ? 1 : 0) > 0 ? true : false;\n            if (key) {\n                temp = data[i];\n                data[i] = data[j];\n                data[j] = temp;\n            }\n        }\n    }\n    return data;\n};\n\nmodule.exports = ManagedObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/entity/ManagedObject.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}