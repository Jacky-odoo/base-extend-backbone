{"version":3,"sources":["webpack:///webpack/bootstrap 47ad6391210a5ad45ba4","webpack:///./src/index.js","webpack:///./src/instance/baseView.js","webpack:///external \"window.Backbone\"","webpack:///./src/util/warn.js","webpack:///./config.js","webpack:///./src/util/debug.js","webpack:///./src/util/tools.js","webpack:///./src/instance/baseRouter.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,IAAI;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACtIA,kC;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;;;;;ACfA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1BA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,SAAS;AACzB,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B,iBAAgB,SAAS;AACzB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACxFD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,oCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,EAAC;AACD","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 47ad6391210a5ad45ba4\n **/","var BaseView = require('./instance/baseView');\r\nvar BaseModel = require('./instance/baseRouter');\r\nvar BaseRouter = require('./instance/baseRouter');\r\nmodule.exports = {\r\n    'View':BaseView,\r\n    'Model':BaseModel,\r\n    'Router':BaseRouter,\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\r\n * @time 2012年10月19日\r\n * @author icepy\r\n * @info 完成基础的View类\r\n *\r\n * @time 2016年2月27日\r\n * @author icepy\r\n * @info 改造兼容webpack打包\r\n */\r\n\r\n'use strict';\r\n\r\nvar Backbone = require('backbone');\r\nvar warn = require('../util/warn');\r\nvar tools = require('../util/tools');\r\nvar error = require('../util/debug').error;\r\nvar BaseView = Backbone.View.extend({\r\n\tinitialize:function(options){\r\n\t\t//初始化参数\r\n\t\tthis._ICEOptions = options || {};\r\n\r\n\t\tif (_.isFunction(this.beforeMount)){\r\n\t\t\tthis.beforeMount();\r\n\t\t}else{\r\n\t\t\twarn('推荐使用beforeMount钩子方法，用来初始化自定义属性');\r\n\t\t};\r\n\t\tif (this._ICEOptions.id) {\r\n\t\t\tthis.$el = $(this._ICEOptions.id);\r\n\t\t};\r\n\t\tthis._ICEinit();\r\n\t\treturn this;\r\n\t},\r\n\t_ICEinit:function(){\r\n\t\tif (_.isFunction(this.rawLoader)) {\r\n\t\t\tthis._template = this.rawLoader();\r\n\t\t\tif (this._template) {\r\n\t\t\t\tthis.$el.append(this._template);\r\n\t\t\t};\r\n\t\t}else{\r\n\t\t\twarn('推荐使用rawLoader钩子方法用来加载需要动态获取的模板');\r\n\t\t};\r\n\t\tif (typeof this.afterMount === 'function') {\r\n\t\t\tthis.afterMount();\r\n\t\t}else{\r\n\t\t\twarn('推荐使用afterMount钩子方法，用来获取DOM对象');\r\n\t\t};\r\n\t\tthis._ICEObject();\r\n\t},\r\n\t_ICEObject:function(){\r\n\t\tthis._ICEinitNode();\r\n\t\tthis._store = {};\r\n\t\tthis.__YYTPC__ = true;\r\n\t\tthis.$props = this._ICEOptions.props || {};\r\n\t\tthis.$state = this._ICEOptions.state || {};\r\n\t\tthis.$methods = this._ICEOptions.methods || {};\r\n\t\tif (_.isFunction(this.ready)) {\r\n\t\t\tthis.ready(this._ICEOptions);\r\n\t\t}else{\r\n\t\t\terror('一个View对象周期内必须实现ready钩子方法');\r\n\t\t};\r\n\t},\r\n\t_ICEinitEvent:function(){\r\n\t\tthis.delegateEvents(this.events);\r\n\t},\r\n\t_ICEinitNode:function(){\r\n\t\tthis.$parent = this._ICEOptions.parent;\r\n\t\tthis.$children  = [];\r\n\t\tthis.$root = this.$parent ? this.$parent.$root : this;\r\n\t\tif (this.$parent) {\r\n\t\t\tthis.$parent.$children.push(this);\r\n\t\t};\r\n\t},\r\n\t_ICEDestroy:function(){\r\n\t\t//实例销毁之前\r\n\t\tif (_.isFunction(this.beforeDestroy)) {\r\n\t\t\tthis.beforeDestroy();\r\n\t\t};\r\n\t\tthis.remove();\r\n\t\tthis.undelegate();\r\n\t\t//实例销毁之后\r\n\t\tif (_.isFunction(this.destroyed)) {\r\n\t\t\tthis.destroyed();\r\n\t\t};\r\n\t},\r\n\t/**\r\n\t * [broadcast 触发所有子组件相应的事件]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tbroadcast:function(event){\r\n\t\tvar args = tools.toArray(arguments);\r\n\t\tvar children = this.$children;\r\n\t\tvar i = 0;\r\n\t\tvar j = children.length;\r\n\t\tfor(;i<j;i++){\r\n\t\t\tvar child = children[i];\r\n\t\t\tvar propagate = child.trigger.apply(child,args);\r\n\t\t\tif(propagate){\r\n\t\t\t\tchild.broadcast.apply(child,args);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [dispatch 触发所有父组件相应的事件]\r\n\t * @param  {[type]} event [description]\r\n\t * @return {[type]}       [description]\r\n\t */\r\n\tdispatch:function(event){\r\n\t\tvar args = tools.toArray(arguments);\r\n\t\tvar parent = this.$parent;\r\n\t\twhile(parent){\r\n\t\t\tparent.trigger.apply(parent,args);\r\n\t\t\tparent = parent.$parent;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t/**\r\n\t * [destroy 销毁实例]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tdestroy:function(){\r\n\t\tthis._ICEOptions = null;\r\n\t\tthis.methods = null;\r\n\t\tthis.props = null;\r\n\t\tthis.state = null;\r\n\t\tthis._store = null;\r\n\t\tthis.$children.length = 0;\r\n\t\tthis.$parent = null;\r\n\t\tthis.$root = null;\r\n\t\tthis._ICEDestroy();\r\n\t}\r\n});\r\n\r\nmodule.exports = BaseView;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/instance/baseView.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = window.Backbone;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"window.Backbone\"\n ** module id = 2\n ** module chunks = 0\n **/","/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成warn包装\r\n */\r\n\r\n'use strict';\r\n\r\nvar Config = require('config');\r\nvar Debug = require('./debug');\r\n\r\nvar warn = function(msg,e){\r\n\tif (Config.debug) {\r\n\t\tDebug.warn(msg,e)\r\n\t}\r\n}\r\nmodule.exports = warn;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/warn.js\n ** module id = 3\n ** module chunks = 0\n **/","var config = {\r\n    scheme: 'alpha',\r\n    env:{\r\n        alpha:{\r\n            'url_prefix':'http://127.0.0.1:8081'\r\n        },\r\n        beta:{\r\n            'url_prefix':'http://beta.com:8081'\r\n        },\r\n        release:{\r\n            'url_prefix':'http://aip.com'\r\n        }\r\n    },\r\n    debug:true\r\n};\r\nmodule.exports = config;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./config.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info debug信息打印\r\n */\r\n\r\n'use strict';\r\n\r\nvar debug = {}\r\ndebug.warn = function(msg,e){\r\n\tvar hasConsole = typeof console !== undefined;\r\n\tif (hasConsole) {\r\n\t\tconsole.warn('[YYT PC Warning]:'+ msg);\r\n\t\tif (e) {\r\n\t\t\tthrow e;\r\n\t\t}else{\r\n\t\t\tvar warning = new Error('Warning Stack Trace');\r\n\t\t\tconsole.warn(warning.stack);\r\n\t\t}\r\n\t};\r\n\treturn hasConsole;\r\n};\r\ndebug.error = function(msg){\r\n\tvar error = new Error(msg);\r\n\tthrow error.stack;\r\n};\r\nmodule.exports = debug;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/debug.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\r\n * @time 2012年10月26日\r\n * @author icepy\r\n * @info 完成处理tools对象\r\n */\r\n\r\n'use strict';\r\n\r\n(function (factory) {\r\n    var root = (typeof self == 'object' && self.self == self && self) ||\r\n        (typeof global == 'object' && global.global == global && global);\r\n    if (typeof exports === 'object' && typeof module === 'object') {\r\n        module.exports = factory();\r\n    } else if (typeof exports === 'object') {\r\n        exports['tools'] = factory()\r\n    } else {\r\n        if (!root.ICEPlugs) {\r\n            root.ICEPlugs = {};\r\n        }\r\n        root.ICEPlugs.tools = factory();\r\n    }\r\n})(function () {\r\n    var tools = {};\r\n    var toString = Object.prototype.toString;\r\n    var OBJECT_TYPE = '[object Object]';\r\n    /**\r\n     * [isPlainObject 判断是否为普通对象]\r\n     * @param  {[Object]}  obj [对象]\r\n     * @return {Boolean}\r\n     */\r\n    tools.isPlainObject = function (obj) {\r\n        return toString.call(obj) === OBJECT_TYPE;\r\n    };\r\n    /**\r\n     * [isObject 判断是否为对象]\r\n     * @param  {[*]}  obj [任意一个元素]\r\n     * @return {Boolean}\r\n     */\r\n    tools.isObject = function (obj) {\r\n        return obj !== null && typeof obj === 'object';\r\n    };\r\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\r\n    /**\r\n     * [hasOwn 检查对象是否为自身的属性]\r\n     * @param  {[Object]}  obj [description]\r\n     * @param  {[String]}  key [description]\r\n     * @return {Boolean}     [description]\r\n     */\r\n    tools.hasOwn = function (obj, key) {\r\n        return hasOwnProperty.call(obj, key);\r\n    };\r\n    /**\r\n     * [toArray 类数组对象转数组]\r\n     * @param  {[Array-like]} list  [类数组]\r\n     * @param  {[Number]} index [起始索引]\r\n     * @return {[Array]}       [返回一个新的真实数组]\r\n     */\r\n    tools.toArray = function (list, index) {\r\n        index = index || 0;\r\n        var i = list.length - index;\r\n        var _array = new Array(i);\r\n        while (i--) {\r\n            _array[i] = list[i + index];\r\n        }\r\n        return _array;\r\n    };\r\n    /**\r\n     * [toType 导出类型字符串]\r\n     * @param  {[type]} value [description]\r\n     * @return {[type]}       [description]\r\n     */\r\n    tools.toType = function (value) {\r\n        return toString.call(value);\r\n    };\r\n    /**\r\n     * [exportToNumber 导出数字]\r\n     * @param  {[*]} value [description]\r\n     * @return {[*|Number]}       [description]\r\n     */\r\n    tools.exportToNumber = function (value) {\r\n        if (typeof value !== 'string') {\r\n            return value;\r\n        } else {\r\n            var number = Number(value);\r\n            return isNaN(number) ? value : number;\r\n        }\r\n    };\r\n    return tools;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/tools.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n * @time 2016年3月21日\n * @author icepy\n * @info 基于路由的生命周期\n */\n\n'use strict'\n\nvar Backbone = require('backbone');\nvar warn = require('../util/warn');\nvar stack = [];\nvar routerHash = {};\nvar curr = null;\nvar router = null;\nvar routerHashTop = function(key) {\n    return routerHash[key];\n};\nvar routerHashRmove = function(key) {\n    delete routerHash[key];\n};\nvar BaseRouter = Backbone.Router.extend({\n    addLifeCycleHelper: function(name, view, parameter) {\n        var top = routerHashTop(name);\n        var stackCheckHandler = function() {\n            if (curr) {\n                //视图隐藏或者销毁之前\n                if (_.isFunction(router.viewWillDisappear)) {\r\n                    router.viewWillDisappear.call(curr);\n                }else{\n                    if (router.dealloc) {\n                        warn('销毁实例{dealloc = true}之前必须存在viewWillDisappear，在此进行解除其他对象的引用或者调用（每个）destroy方法');\n                    };\n                };\n                if (router.dealloc) {\n                    //进入实例销毁流程\n                    curr.destroy();\r\n                    var obj = routerHashTop(curr._router);\n                    if (obj) {\n                        routerHashRmove(curr.router);\n                        stack.splice(stack.indexOf(curr.cid), 1);\n                        obj = null;\n                    };\n                };\n                //视图隐藏或者销毁之后\n                if (_.isFunction(router.viewDidDisappear)) {\n                    router.viewDidDisappear.call(curr);\n                };\n            }\n        }\n        if (top) {\n            stackCheckHandler();\n            curr = null;\n            curr = top;\n            curr.trigger('viewWillAppear');\n        } else {\n            stackCheckHandler();\n            curr = parameter ? new view({\n                '$parameter': parameter\n            }) : new view();\n            stack.push(curr.cid);\n            curr._router = name;\n            curr._didLoad = false; //记录viewDidLoad跟随路由呈现的生命周期状态\n            router = curr.router;\n            routerHash[name] = curr;\n            //视图呈现的生命周期只会触发一次\n            curr.once('viewDidLoad', function() {\n                if (_.isFunction(router.viewDidLoad)) {\n                    router.viewDidLoad.call(curr);\n                }else{\n                    warn('基于路由的Root Component，必须存在viewDidLoad钩子');\n                };\n                if (!curr._didLoad) {\n                    curr._didLoad = true;\n                    curr.trigger('viewDidAppear');\n                };\n            });\n            //视图将要呈现之前\n            curr.on('viewWillAppear', function() {\n                if (_.isFunction(router.viewWillAppear)) {\n                    router.viewWillAppear.call(curr);\n                }else{\n                    warn('基于路由的Root Component，必须存在viewWillAppear');\n                };\n                if (!curr._didLoad) {\n                    //viewDidLoad事件还未触发\n                    curr.trigger('viewDidLoad');\n                }else{\n                    curr.trigger('viewDidAppear');\n                };\n            });\n            //视图已经呈现之后\n            curr.on('viewDidAppear', function() {\n                if (_.isFunction(router.viewDidAppear)) {\n                    router.viewDidAppear.call(curr);\n                }else{\n                    warn('基于路由的Root Component，必须存在viewDidAppear');\n                };\n            });\n            curr.trigger('viewWillAppear');\n        }\n        return curr;\n    }\n});\nmodule.exports = BaseRouter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/instance/baseRouter.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}